{% extends 'SRPSBookingBundle:Booking:booking.html.twig' %}

{% block content %}
    <h2>SRPS Railtours Online Booking</h2>

    <h3 class="text-error">Review and pay</h3>

    <p>
        Review your booking information. When you are happy go to our secure
        payment partner to complete your booking.
    </p>

    <dl class="dl-horizontal">
        <dt>Booking ref</dt>
        <dd>{{ purchase.bookingref }}</dd>

        <dt>Tour name</dt>
        <dd>{{ service.name }}</dd>

        <dt>Tour date</dt>
        <dd>{{ service.date | date('d/m/Y') }}</dd>

        <dt>Destination</dt>
        <dd>{{ destination.name }}</dd>

        <dt>Joining station</dt>
        <dd>{{ joining.station }}</dd>

        <dt>Number of adults</dt>
        <dd>{{ purchase.adults }}</dd>

        <dt>Number of children</dt>
        <dd>{{ purchase.children }}</dd>

        <dt>Name<dt>
        <dd>{{ purchase.title }} {{ purchase.firstname }} {{ purchase.surname }}</dd>

        <dt>Address line 1</dt>
        <dd>{{ purchase.address1 }}</dd>

        <dt>Address line 2</dt>
        <dd>{{ purchase.address2 }}</dd>

        <dt>Post town/city</dt>
        <dd>{{ purchase.city }}</dd>

        <dt>County</dt>
        <dd>{{ purchase.county }}</dd>

        <dt>Postcode</dt>
        <dd>{{ purchase.postcode }}</dd>

        <dt>Total price</dt>
        <dd>&pound;{{ purchase.payment | number_format(2) }}</dd>
    </dl>

    <form id="sagepay-form" class="form-horizontal" action="{{ sage.submissionurl }}"
          novalidate="novalidate" method="post">
        <input type="hidden" name="VPSProtocol" value="3.00" />
        <input type="hidden" name="TxType" value="PAYMENT" />
        <input type="hidden" name="Vendor" value="{{ sage.login }}" />
        <input type="hidden" name="Crypt" value="{{ sage.crypt }}" />
    </form>

    <div>
        <a class="btn btn-primary" onclick="$('#sagepay-form').submit();">
            Go to our secure payment site
        </a>
    </div>

{% endblock content %}