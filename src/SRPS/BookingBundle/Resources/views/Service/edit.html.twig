{% extends 'SRPSBookingBundle:Admin:admin.html.twig' %}

{% form_theme edit_form 'SRPSBookingBundle:Admin:fields.html.twig' %}

{% block sidebar %}
   {% include 'SRPSBookingBundle:Admin:sidebar.html.twig' %}
{% endblock sidebar %}


{% block content %}
    <h2>Service edit</h2>

    {% if serviceid %}
        <form id="service-edit-form" class="form-horizontal" action="{{ path('admin_service_edit', { 'id': serviceid }) }}"
              novalidate="novalidate" method="post" {{ form_enctype(edit_form) }}>
    {% else %}
        <form id="service-edit-form" class="form-horizontal" action="{{ path('admin_service_new') }}"
              novalidate="novalidate" method="post" {{ form_enctype(edit_form) }}>        
    {% endif %}
    {{ form_row(edit_form.code) }}
    {{ form_row(edit_form.name) }}
        {% spaceless %}
            <div class="form-group">
                {{ form_label(edit_form.description, null, {'label_attr': {'class': 'control-label col-sm-3'}}) }}
                <div class="col-sm-9">
                    {{ form_widget(edit_form.description, {'attr': {'cols': '80', 'rows': '8'}, 'class': 'form-control'}) }}
                    {{ form_errors(edit_form.description) }}
                </div>
            </div>
        {% endspaceless %}
    {{ form_row(edit_form.visible) }}
    {{ form_row(edit_form.date) }}
    {{ form_row(edit_form.singlesupplement) }}
    {{ form_row(edit_form.commentbox) }}

        <table class="table">
            <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th>Meal name</th>
                    <th>Visible?</th>
                    <th>Meal price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th class="lead">A</th>
                    <td>{{ form_widget(edit_form.mealaname) }} {{ form_errors(edit_form.mealaname) }}</td>
                    <td>{{ form_widget(edit_form.mealavisible) }}</td>
                    <td>{{ form_widget(edit_form.mealaprice) }} {{ form_errors(edit_form.mealaprice) }}</td>
                </tr>
                <tr>
                    <th class="lead">B</th>
                    <td>{{ form_widget(edit_form.mealbname) }} {{ form_errors(edit_form.mealbname) }}</td>
                    <td>{{ form_widget(edit_form.mealbvisible) }}</td>
                    <td>{{ form_widget(edit_form.mealbprice) }} {{ form_errors(edit_form.mealbprice) }}</td>
                </tr>
                <tr>
                    <th class="lead">C</th>
                    <td>{{ form_widget(edit_form.mealcname) }}  {{ form_errors(edit_form.mealcname) }}</td>
                    <td>{{ form_widget(edit_form.mealcvisible) }}</td>
                    <td>{{ form_widget(edit_form.mealcprice) }}  {{ form_errors(edit_form.mealcprice) }}</td>
                </tr>
                <tr>
                    <th class="lead">D</th>
                    <td>{{ form_widget(edit_form.mealdname) }}  {{ form_errors(edit_form.mealdname) }}</td>
                    <td>{{ form_widget(edit_form.mealdvisible) }}</td>
                    <td>{{ form_widget(edit_form.mealdprice) }}  {{ form_errors(edit_form.mealdprice) }}</td>
                </tr>
            </tbody>
        </table>
        {{ form_rest(edit_form) }}
    </form>

    <button class ="btn btn-primary" onclick="$('#service-edit-form').submit();">
        Save changes
    </button>
    {% if serviceid %}
        <a class="btn btn-warning" href="{{ path('admin_service_show', { 'id': serviceid }) }}">
            Cancel
        </a>
    {% else %}
        <a class="btn btn-warning" href="{{ path('admin_service') }}">
            Cancel
        </a>       
    {% endif %}
{% endblock content %}

{%block javascripts %}
    {{ parent() }}

    <script>
        $('#srps_bookingbundle_servicetype_date').datepicker({dateFormat: "dd/mm/yy" });
    </script>
{% endblock javascripts %}