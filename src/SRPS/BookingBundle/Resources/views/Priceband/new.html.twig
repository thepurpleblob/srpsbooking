{% extends 'SRPSBookingBundle:Admin:admin.html.twig' %}

{% form_theme form 'SRPSBookingBundle:Admin:fields.html.twig' %}

{% block sidebar %}
    {% include 'SRPSBookingBundle:Admin:sidebar.html.twig' %}
{% endblock sidebar %}

{% block content %}

    <h2>New pricebands</h2>
    <h4>{{ service.name }}</h4>

    <form id="priceband-new-form" class="form-horizontal" action="{{ path('admin_priceband_create', {'serviceid': service.id}) }}" 
        novalidate="novalidate" method="post" {{ form_enctype(form)}}>
        
        <div>
            {{ form_row(form.name) }}
        </div>        
        
        <table class="table">
            <thead>
                <tr>
                    <th>Destination</th>
                    <th>First</th>
                    <th>Standard</th>
                    <th>Child</th>
                </tr>
            </thead>
            <tbody>
            {% for priceband in form.pricebands %}
                <tr>
                    <td>{{ form_widget(priceband.destination) }} {{ form_errors(priceband.destination) }}</td>
                    <td>{{ form_widget(priceband.first) }} {{ form_errors(priceband.first) }}</td>
                    <td>{{ form_widget(priceband.standard) }} {{ form_errors(priceband.standard) }}</td>
                    <td>{{ form_widget(priceband.child) }} {{ form_errors(priceband.child) }}</td>
                </tr>        
            {% endfor %}        
            </tbody>
        </table>
        

        {{ form_rest(form) }}     
    </form>
    
    <button class ="btn btn-primary" onclick="$('#priceband-new-form').submit();">
        Create priceband
    </button>
    <a class="btn btn-warning" href="{{ path('admin_priceband', { 'serviceid': service.id }) }}">
        Cancel
    </a>

{% endblock content %}
 
